@using Teleoffice.Models
@using System
@using Teleoffice.ViewModels.Professional
@model IEnumerable<AppViewModel>


@{
    ViewData["Title"] = "Professional";
}
<h3>Welcome @ViewBag.user.FirstName @ViewBag.user.LastName</h3>

<div class="row">
        <div class="col-sm-7">
            <h4>Your Appointments</h4><br>
            @if (Model.Count() > 0)
            {
                <ul class="list-group">

                    @foreach (var p in Model)
                {
                        <li class="list-group-item notif">
                            <div class="row">
                                <div class="col-sm-12">
                                        <div class="panel-default">
                                        <div class="panel-heading">You have an appointment with @p.FName @p.LName</div><br>
                                        <b>Subject:</b> @p.Subject<br />
                                        <b>Message:</b>@p.Message<br/>
                                        <b>Meeting Time:</b> @p.MeetTime<br><br>

                                        @*@if (p.MeetTime == DateTime.Now)
                                            {*@
                                        @Html.ActionLink("Attend", "Index", "VideoCall", new { id = @p.AppId }, new { @class = "btn btn-success attend" })
                                        </div>
                                        
                                        @*    else
                                                {
                                             <button class="btn-danger" id="noattend" onclick="alert('Your meeting time is @p.MeetTime');">Attend</button>


                                            }*@

                                </div>
                            </div>
                        </li>
                    }

                </ul>
            }
            else {
                <div class="panel panel-default">
                    <div class="panel-body">
                        No appointments found
                    </div>
                </div>
            }
        </div>
</div>
